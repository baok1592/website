(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19812837"],{"0584":function(t,e,a){},"085b":function(t,e,a){"use strict";var i=a("e99b"),n=a("52a4")(!1),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!a("95b6")(l)),"Array",{indexOf:function(t){return s?l.apply(this,arguments)||0:n(this,t,arguments[1])}})},"0c0d":function(t,e,a){"use strict";a("2aac")},"0ff5":function(t,e,a){"use strict";a("7296")},"2aac":function(t,e,a){},"2ad2":function(t,e,a){"use strict";a("0584")},"3f48":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("div",[a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("NavTo")],1),a("el-container",[a("el-header",{staticStyle:{"border-bottom":"1px solid #d0d0d0"}},[a("Header")],1),a("el-main",[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("div",{staticClass:"manage"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户列表",name:"first"}},[a("UserList")],1),a("el-tab-pane",{attrs:{label:"管理组",name:"second"}},[a("SetGroup")],1),a("el-tab-pane",{attrs:{label:"操作日志",name:"third"}},[a("Logs")],1)],1)],1)])],1)],1)],1)],1):t._e()},n=[],l=(a("085b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-head"},[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add_fun}},[t._v("添加用户")]),a("el-dialog",{attrs:{title:"",visible:t.add,width:"420px"},on:{"update:visible":function(e){t.add=e}}},[a("el-form",{attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名"}},[0==t.eid?a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}):a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"昵称"}},[(t.eid,a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}}))],1),0==t.eid?a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1):t._e(),a("el-form-item",{attrs:{label:"所属用户组"}},[a("el-select",{attrs:{placeholder:"请选择用户组"},model:{value:t.form.gid,callback:function(e){t.$set(t.form,"gid",e)},expression:"form.gid"}},t._l(t.group_list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.eid<1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.register()}}},[t._v("确 定")]):a("el-button",{attrs:{type:"success"},on:{click:t.onEditSub}},[t._v("修改")])],1)],1)],1)],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"username",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"180"}}),a("el-table-column",{attrs:{prop:"groups.name",label:"管理组",width:"180"}}),a("el-table-column",{attrs:{prop:"description",label:"备注",width:"180"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"state",label:"是否禁用",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(a){return t.onswitch(e.row.id)}},model:{value:e.row.state,callback:function(a){t.$set(e.row,"state",a)},expression:"scope.row.state"}})]}}])}),a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){return t.on_edit(e.row.id,e.row.username,e.row.description,e.row.group_id,e.row.nickname)}}},[t._v("编辑")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(a){return t.del(e.row.id,e.$index)}},slot:"reference"},[t._v("删除")])]}}])})],1)]],2)])}),s=[],o=(a("4057"),a("3f5b"),{name:"UserList",data:function(){return{add:!1,form:{username:"",nickname:"",password:"",gid:"",edi:0,description:""},formLabelWidth:"120px",list:[],eid:"",group_list:""}},methods:{add_fun:function(){this.add=!0,this._clsForm(),this.eid=0},register:function(){var t=this;this.http.post("/admin/add_admin",t.form).then((function(e){t.$message({showClose:!0,message:"添加成功",type:"success"}),t.add=!1,t.getUser(),t._clsForm()}))},_clsForm:function(){var t=this;for(var e in t.form)t.form[e]=""},on_edit:function(t,e,a,i,n){this.add=!0,this.eid=t,this.form.username=e,this.form.gid=i,this.form.description=a,this.form.nickname=n},onEditSub:function(){var t=this,e={};e["id"]=this.eid,e["gid"]=this.form.gid,e["nickname"]=this.form.nickname,e["description"]=this.form.description,this.http.put("/admin/edit_admin",e).then((function(e){t.$message({showClose:!0,message:"操作成功",type:"success"}),t.getUser(),t.add=!1,t.eid=0,t._clsForm()}))},getUser:function(){var t=this;this.http.post("/admin/get_admin").then((function(e){t.list=e.data}))},del:function(t,e){var a=this,i=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.http.put("/admin/del_admin",{id:t}).then((function(t){var a=t.status.toString();2==a.charAt(0)?(i.$message({showClose:!0,message:"删除成功",type:"success"}),i.list.splice(e,1)):i.$message({showClose:!0,message:t.data.msg,type:"error"})}))}))},onswitch:function(t){var e=this;this.http.put("/admin/update",{id:t,db:"admins",field:"state"}).then((function(t){e.$message({showClose:!0,message:"操作成功",type:"success"})}))},_getallgroup:function(){var t=this;this.http.post("/admin/get_group_all").then((function(e){console.log("xx:",e.data),t.group_list=e.data}))}},mounted:function(){this.getUser(),this._getallgroup()}}),r=o,c=(a("0c0d"),a("5d22")),d=Object(c["a"])(r,l,s,!1,null,"4f5fc8be",null),u=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[t.addShow?a("div",{staticClass:"add-category "},[a("div",{staticClass:"order-back"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.back}},[t._v("返回")])],1),a("manage-power",{attrs:{eid:t.eid},on:{trigger:t.back}})],1):t._e(),t.addShow?t._e():a("div",{staticClass:"list"},[a("div",{staticClass:"list-head"},[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleEdit()}}},[t._v("添加管理组")])],1)],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"管理组名称",width:"280"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"240"}}),a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return 1!=e.row.id?[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){return t.on_edit(e.row.id)}}},[t._v("编辑")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:function(a){return t.del(e.row.id,e.$index)}}},[t._v("删除")])]:void 0}}],null,!0)})],1)]],2)])},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("div",{staticClass:"release"},[a("el-form",{ref:"forms",attrs:{model:t.forms,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"组名称"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.group_name,callback:function(e){t.group_name=e},expression:"group_name"}})],1),a("el-form-item",{attrs:{label:"权限设置"}},[a("el-tree",{ref:"tree",attrs:{data:t.data2,"show-checkbox":"","node-key":"name","default-expanded-keys":t.zhankai,"default-checked-keys":t.checked,props:t.defaultProps}})],1),a("el-form-item"),a("el-form-item",[t.eid<1?a("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("提交")]):a("el-button",{attrs:{type:"success"},on:{click:t.onEdit}},[t._v("修改")])],1)],1)],1)])},h=[],b=(a("a450"),{props:["eid"],data:function(){return{zhankai:["product","tuikuan","shop","daili","caiwu","member","cset","tongji"],checked:["product/add","product/list"],group_name:"",sku_table:!1,sub_btn:!0,data2:[{label:"全选",name:"all",children:[{label:"首页",name:"Main"},{label:"商品",name:"product",children:[{label:"商品列表",name:"product_list"},{label:"商品下架",name:"product_del"},{label:"商品分类",name:"product_category"},{label:"商品标签",name:"product_tag"}]},{label:"商家",name:"shop",children:[{label:"商家列表",name:"shop_list"},{label:"禁用商家",name:"shop_del"},{label:"订单管理",name:"order_list"},{label:"评价管理",name:"shop_rate"}]},{label:"代理商",name:"daili",children:[{label:"代理商管理",name:"daili_list"}]},{label:"财务",name:"caiwu",children:[{label:"商家提现",name:"seller_tx"},{label:"代理商提现",name:"daili_tx"},{label:"付款",name:"pay"},{label:"数据导出",name:"sdaochu"},{label:"退款",name:"tuikuan_list"}]},{label:"会员",name:"member",children:[{label:"会员列表",name:"member_list"}]},{label:"统计",name:"tongji",children:[{label:"会员统计",name:"tj_vip_list"},{label:"代理商统计",name:"tj_daili_list"},{label:"订单统计",name:"tj_order_list"}]},{label:"设置",name:"cset",children:[{label:"广告管理",name:"ad_list"},{label:"文章管理",name:"article_list"},{label:"站点管理",name:"site_set"},{label:"管理组",name:"group_list"}]}]}]}},components:{},methods:{sub:function(){var t=this,e={};e["name"]=this.group_name,e["res"]=this.$refs.tree.getCheckedKeys();this.http.post("/admin/add_group",e).then((function(e){t.$message({showClose:!0,message:"新增成功",type:"success"}),t.$emit("trigger")}))},onEdit:function(){var t=this,e={};e["id"]=this.eid,e["name"]=this.group_name,e["res"]=this.$refs.tree.getCheckedKeys();this.http.post("/admin/edit_group",e).then((function(e){t.$message({showClose:!0,message:"修改成功",type:"success"}),t.$emit("trigger")}))},get_group_one:function(t){var e=this;this.http.post("/admin/group/"+t).then((function(t){t.data.name&&t.data.oauth&&(e.group_name=t.data.name,e.checked=t.data.oauth)}))}},mounted:function(){this.eid>0&&this.get_group_one(this.eid)}}),_=b,g=(a("d6b6"),Object(c["a"])(_,f,h,!1,null,null,null)),v=g.exports,w={name:"SetGroup",data:function(){return{addShow:!1,checkdDistributor:null,aid:0,eid:0,list:[]}},components:{ManagePower:v},methods:{handleEdit:function(t){this.addShow=!0},back:function(){this.order_id=0,this.eid=0,this.addShow=!1,this._getall()},del:function(t,e){var a=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.http.put("admin/del_group",{id:t}).then((function(t){a.$message({message:"删除成功",type:"success"}),a.list.splice(e,1)}))}))},on_edit:function(t){this.addShow=!0,this.eid=t},_getall:function(){var t=this;this.http.post("/admin/get_group_all").then((function(e){t.list=e.data}))}},mounted:function(){this._getall()}},k=w,y=(a("2ad2"),Object(c["a"])(k,m,p,!1,null,"3ecd0010",null)),x=y.exports,C=a("15fc"),$=a("71c2"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-head"},[a("div",{staticClass:"liat-head-01"},[a("el-row",[a("el-button",{attrs:{type:"danger",size:"small"}},[t._v("删除")])],1)],1),a("div",{staticClass:"liat-head-02"},[t._v("\n\t\t\t\t商品名称："),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容",size:"small"}})],1),a("div",{staticClass:"liat-head-03"},[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("搜索")])],1)],1),a("div",{staticClass:"liat-head-04"},[t._v("\n\t\t\t\t时间选择：\n\t\t\t")]),a("div",{staticClass:"liat-head-05"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value6,callback:function(e){t.value6=e},expression:"value6"}})],1)]),[a("el-table",{staticStyle:{width:"100%"}},[a("el-table-column",{attrs:{prop:"nickname",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"openid",label:"openid",width:"280"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"is_visible",label:"是否禁用",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(a){return t.onswitch(e.row.id)}},model:{value:e.row.is_visible,callback:function(a){t.$set(e.row,"is_visible",a)},expression:"scope.row.is_visible"}})]}}])}),a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.handleEdit(e.row.id)}}},[t._v("查看")]),a("el-button",{attrs:{type:"success",size:"small"}},[t._v("编辑")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},slot:"reference"},[t._v("删除")])]}}])})],1)]],2)])},E=[],z={name:"Logs",data:function(){return{pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},value6:"",value7:""}}},D=z,F=(a("0ff5"),Object(c["a"])(D,S,E,!1,null,"51fb02aa",null)),T=F.exports,j={name:"Manage",data:function(){return{activeName:"first",auth:!1}},components:{UserList:u,SetGroup:x,Logs:T,Header:$["a"],NavTo:C["a"]},methods:{handleClick:function(t,e){console.log(t,e)},check_auth:function(t){var e=localStorage.getItem("oauth");e.indexOf(t)<0?this.$message({message:"无权限",type:"none"}):this.auth=!0}},mounted:function(){this.check_auth("member_list")}},O=j,L=(a("7f32"),Object(c["a"])(O,i,n,!1,null,"6a3679be",null));e["default"]=L.exports},7296:function(t,e,a){},"7f32":function(t,e,a){"use strict";a("de08")},"95b6":function(t,e,a){"use strict";var i=a("0926");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},a450:function(t,e,a){var i=a("bb8b").f,n=Function.prototype,l=/^\s*function ([^ (]*)/,s="name";s in n||a("26df")&&i(n,s,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(t){return""}}})},d6b6:function(t,e,a){"use strict";a("db70")},db70:function(t,e,a){},de08:function(t,e,a){}}]);